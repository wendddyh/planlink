<div class="container mt-3">
  <!-- Search Bar -->
  <div class="row justify-content-center">
    <div class="col-sm-12 my-3">
      <%= form_with url: new_friend_request_path, method: :get, class: "d-flex" do %>
        <div class="input-group">
          <%= text_field_tag :user, params[:user], class: "form-control", placeholder: "Search for a user..." %>
          <div class="input-group-append">
            <%= submit_tag "Search", name: "", class: "btn btn-primary" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <!-- User List with Send Friend Request Button -->
  <div class="row">
    <% @users.each do |user| %>
      <div class="col-sm-12 mb-3">
        <div class="card">
          <div class="card-body d-flex justify-content-between align-items-center">
            <span><%= user.first_name + ' ' + user.last_name %></span>
            <%= simple_form_for @friend_request, url: friend_requests_path, method: :post, data: { controller: 'friend_requests' } do |f| %>
              <%= f.hidden_field :friend_id, value: user.id %>
              <%= f.submit 'Send Friend Request', class: 'btn btn-primary btn-sm' %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
